<HTML>
<BODY>
	<canvas id='lesson01' width='500' height='400'/>

	<script>
		let canvas = document.getElementById("lesson01");
		let context = canvas.getContext("2d");

		var psize = 1;
		var shape_size = 20;
		var shape_pos = 100;
		context.fillStyle = "#CC0099";
		context.fillRect(10*psize, 10*psize, 1*psize, 1*psize);

		function draw() {
		context.fillStyle = "#CC0099";
			for (var j=0; j<shape_size; j++) {
				for (var i=j; i<shape_size; i++) {
					context.fillRect((shape_pos+i)*psize, (shape_pos+j)*psize, 
						1*psize, 1*psize);
				}
			}
	
			context.fillStyle = "#FF00FF";
			for (var j=0; j<shape_size; j++) {
				for (var i=0; i<shape_size-j; i++) {
					context.fillRect((i+shape_size+shape_pos)*psize, (shape_pos+j)*psize, 
						1*psize, 1*psize);
				}
			}
		}
		function erase_draw() {
			context.fillStyle = "#FFFFFF";	
			for (var j=0; j<shape_size; j++) {
				for (var i=j; i<shape_size; i++) {
					context.fillRect((shape_pos+i)*psize, (shape_pos+j)*psize, 
						1*psize, 1*psize);
				}
			}
	
			context.fillStyle = "#FFFFFF";
			for (var j=0; j<shape_size; j++) {
				for (var i=0; i<shape_size-j; i++) {
					context.fillRect((i+shape_size+shape_pos)*psize, (shape_pos+j)*psize, 
						1*psize, 1*psize);
				}
			}
		}

		setInterval(function () {
			erase_draw();

			shape_pos++;

			draw();
		}, 10);

		canvas.addEventListener('mousedown', function (e){
			console.log("mousedown", e.clientX, " ", e.clientY);
		});
	
	</script>
</BODY>
</HTML>
